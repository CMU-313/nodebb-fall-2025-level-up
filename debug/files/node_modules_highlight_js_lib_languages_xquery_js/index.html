<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/highlight.js/lib/languages/xquery.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/highlight.js/lib/languages/xquery.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">38.76</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">361</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">5.38</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">1.15</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">/*
Language: XQuery
Author: Dirk Kirsten &lt;dk@basex.org&gt;
Contributor: Duncan Paterson
Description: Supports XQuery 3.1 including XQuery Update 3, so also XPath (as it is a superset)
Refactored to process xml constructor syntax and function-bodies. Added missing data-types, xpath operands, inbuilt functions, and query prologs
Website: https://www.w3.org/XML/Query/
Category: functional
Audit: 2020
*/

/** @type LanguageFn */
function xquery(_hljs) {
  // see https://www.w3.org/TR/xquery/#id-terminal-delimitation
  const KEYWORDS = [
    &quot;module&quot;,
    &quot;schema&quot;,
    &quot;namespace&quot;,
    &quot;boundary-space&quot;,
    &quot;preserve&quot;,
    &quot;no-preserve&quot;,
    &quot;strip&quot;,
    &quot;default&quot;,
    &quot;collation&quot;,
    &quot;base-uri&quot;,
    &quot;ordering&quot;,
    &quot;context&quot;,
    &quot;decimal-format&quot;,
    &quot;decimal-separator&quot;,
    &quot;copy-namespaces&quot;,
    &quot;empty-sequence&quot;,
    &quot;except&quot;,
    &quot;exponent-separator&quot;,
    &quot;external&quot;,
    &quot;grouping-separator&quot;,
    &quot;inherit&quot;,
    &quot;no-inherit&quot;,
    &quot;lax&quot;,
    &quot;minus-sign&quot;,
    &quot;per-mille&quot;,
    &quot;percent&quot;,
    &quot;schema-attribute&quot;,
    &quot;schema-element&quot;,
    &quot;strict&quot;,
    &quot;unordered&quot;,
    &quot;zero-digit&quot;,
    &quot;declare&quot;,
    &quot;import&quot;,
    &quot;option&quot;,
    &quot;function&quot;,
    &quot;validate&quot;,
    &quot;variable&quot;,
    &quot;for&quot;,
    &quot;at&quot;,
    &quot;in&quot;,
    &quot;let&quot;,
    &quot;where&quot;,
    &quot;order&quot;,
    &quot;group&quot;,
    &quot;by&quot;,
    &quot;return&quot;,
    &quot;if&quot;,
    &quot;then&quot;,
    &quot;else&quot;,
    &quot;tumbling&quot;,
    &quot;sliding&quot;,
    &quot;window&quot;,
    &quot;start&quot;,
    &quot;when&quot;,
    &quot;only&quot;,
    &quot;end&quot;,
    &quot;previous&quot;,
    &quot;next&quot;,
    &quot;stable&quot;,
    &quot;ascending&quot;,
    &quot;descending&quot;,
    &quot;allowing&quot;,
    &quot;empty&quot;,
    &quot;greatest&quot;,
    &quot;least&quot;,
    &quot;some&quot;,
    &quot;every&quot;,
    &quot;satisfies&quot;,
    &quot;switch&quot;,
    &quot;case&quot;,
    &quot;typeswitch&quot;,
    &quot;try&quot;,
    &quot;catch&quot;,
    &quot;and&quot;,
    &quot;or&quot;,
    &quot;to&quot;,
    &quot;union&quot;,
    &quot;intersect&quot;,
    &quot;instance&quot;,
    &quot;of&quot;,
    &quot;treat&quot;,
    &quot;as&quot;,
    &quot;castable&quot;,
    &quot;cast&quot;,
    &quot;map&quot;,
    &quot;array&quot;,
    &quot;delete&quot;,
    &quot;insert&quot;,
    &quot;into&quot;,
    &quot;replace&quot;,
    &quot;value&quot;,
    &quot;rename&quot;,
    &quot;copy&quot;,
    &quot;modify&quot;,
    &quot;update&quot;
  ];

  // Node Types (sorted by inheritance)
  // atomic types (sorted by inheritance)
  const TYPES = [
    &quot;item&quot;,
    &quot;document-node&quot;,
    &quot;node&quot;,
    &quot;attribute&quot;,
    &quot;document&quot;,
    &quot;element&quot;,
    &quot;comment&quot;,
    &quot;namespace&quot;,
    &quot;namespace-node&quot;,
    &quot;processing-instruction&quot;,
    &quot;text&quot;,
    &quot;construction&quot;,
    &quot;xs:anyAtomicType&quot;,
    &quot;xs:untypedAtomic&quot;,
    &quot;xs:duration&quot;,
    &quot;xs:time&quot;,
    &quot;xs:decimal&quot;,
    &quot;xs:float&quot;,
    &quot;xs:double&quot;,
    &quot;xs:gYearMonth&quot;,
    &quot;xs:gYear&quot;,
    &quot;xs:gMonthDay&quot;,
    &quot;xs:gMonth&quot;,
    &quot;xs:gDay&quot;,
    &quot;xs:boolean&quot;,
    &quot;xs:base64Binary&quot;,
    &quot;xs:hexBinary&quot;,
    &quot;xs:anyURI&quot;,
    &quot;xs:QName&quot;,
    &quot;xs:NOTATION&quot;,
    &quot;xs:dateTime&quot;,
    &quot;xs:dateTimeStamp&quot;,
    &quot;xs:date&quot;,
    &quot;xs:string&quot;,
    &quot;xs:normalizedString&quot;,
    &quot;xs:token&quot;,
    &quot;xs:language&quot;,
    &quot;xs:NMTOKEN&quot;,
    &quot;xs:Name&quot;,
    &quot;xs:NCName&quot;,
    &quot;xs:ID&quot;,
    &quot;xs:IDREF&quot;,
    &quot;xs:ENTITY&quot;,
    &quot;xs:integer&quot;,
    &quot;xs:nonPositiveInteger&quot;,
    &quot;xs:negativeInteger&quot;,
    &quot;xs:long&quot;,
    &quot;xs:int&quot;,
    &quot;xs:short&quot;,
    &quot;xs:byte&quot;,
    &quot;xs:nonNegativeInteger&quot;,
    &quot;xs:unisignedLong&quot;,
    &quot;xs:unsignedInt&quot;,
    &quot;xs:unsignedShort&quot;,
    &quot;xs:unsignedByte&quot;,
    &quot;xs:positiveInteger&quot;,
    &quot;xs:yearMonthDuration&quot;,
    &quot;xs:dayTimeDuration&quot;
  ];

  const LITERALS = [
    &quot;eq&quot;,
    &quot;ne&quot;,
    &quot;lt&quot;,
    &quot;le&quot;,
    &quot;gt&quot;,
    &quot;ge&quot;,
    &quot;is&quot;,
    &quot;self::&quot;,
    &quot;child::&quot;,
    &quot;descendant::&quot;,
    &quot;descendant-or-self::&quot;,
    &quot;attribute::&quot;,
    &quot;following::&quot;,
    &quot;following-sibling::&quot;,
    &quot;parent::&quot;,
    &quot;ancestor::&quot;,
    &quot;ancestor-or-self::&quot;,
    &quot;preceding::&quot;,
    &quot;preceding-sibling::&quot;,
    &quot;NaN&quot;
  ];

  // functions (TODO: find regex for op: without breaking build)
  const BUILT_IN = {
    className: &#039;built_in&#039;,
    variants: [
      {
        begin: /\barray:/,
        end: /(?:append|filter|flatten|fold-(?:left|right)|for-each(?:-pair)?|get|head|insert-before|join|put|remove|reverse|size|sort|subarray|tail)\b/
      },
      {
        begin: /\bmap:/,
        end: /(?:contains|entry|find|for-each|get|keys|merge|put|remove|size)\b/
      },
      {
        begin: /\bmath:/,
        end: /(?:a(?:cos|sin|tan[2]?)|cos|exp(?:10)?|log(?:10)?|pi|pow|sin|sqrt|tan)\b/
      },
      {
        begin: /\bop:/,
        end: /\(/,
        excludeEnd: true
      },
      {
        begin: /\bfn:/,
        end: /\(/,
        excludeEnd: true
      },
      // do not highlight inbuilt strings as variable or xml element names
      {
        begin: /[^&lt;/$:&#039;&quot;-]\b(?:abs|accumulator-(?:after|before)|adjust-(?:date(?:Time)?|time)-to-timezone|analyze-string|apply|available-(?:environment-variables|system-properties)|avg|base-uri|boolean|ceiling|codepoints?-(?:equal|to-string)|collation-key|collection|compare|concat|contains(?:-token)?|copy-of|count|current(?:-)?(?:date(?:Time)?|time|group(?:ing-key)?|output-uri|merge-(?:group|key))?data|dateTime|days?-from-(?:date(?:Time)?|duration)|deep-equal|default-(?:collation|language)|distinct-values|document(?:-uri)?|doc(?:-available)?|element-(?:available|with-id)|empty|encode-for-uri|ends-with|environment-variable|error|escape-html-uri|exactly-one|exists|false|filter|floor|fold-(?:left|right)|for-each(?:-pair)?|format-(?:date(?:Time)?|time|integer|number)|function-(?:arity|available|lookup|name)|generate-id|has-children|head|hours-from-(?:dateTime|duration|time)|id(?:ref)?|implicit-timezone|in-scope-prefixes|index-of|innermost|insert-before|iri-to-uri|json-(?:doc|to-xml)|key|lang|last|load-xquery-module|local-name(?:-from-QName)?|(?:lower|upper)-case|matches|max|minutes-from-(?:dateTime|duration|time)|min|months?-from-(?:date(?:Time)?|duration)|name(?:space-uri-?(?:for-prefix|from-QName)?)?|nilled|node-name|normalize-(?:space|unicode)|not|number|one-or-more|outermost|parse-(?:ietf-date|json)|path|position|(?:prefix-from-)?QName|random-number-generator|regex-group|remove|replace|resolve-(?:QName|uri)|reverse|root|round(?:-half-to-even)?|seconds-from-(?:dateTime|duration|time)|snapshot|sort|starts-with|static-base-uri|stream-available|string-?(?:join|length|to-codepoints)?|subsequence|substring-?(?:after|before)?|sum|system-property|tail|timezone-from-(?:date(?:Time)?|time)|tokenize|trace|trans(?:form|late)|true|type-available|unordered|unparsed-(?:entity|text)?-?(?:public-id|uri|available|lines)?|uri-collection|xml-to-json|years?-from-(?:date(?:Time)?|duration)|zero-or-one)\b/
      },
      {
        begin: /\blocal:/,
        end: /\(/,
        excludeEnd: true
      },
      {
        begin: /\bzip:/,
        end: /(?:zip-file|(?:xml|html|text|binary)-entry| (?:update-)?entries)\b/
      },
      {
        begin: /\b(?:util|db|functx|app|xdmp|xmldb):/,
        end: /\(/,
        excludeEnd: true
      }
    ]
  };

  const TITLE = {
    className: &#039;title&#039;,
    begin: /\bxquery version &quot;[13]\.[01]&quot;\s?(?:encoding &quot;.+&quot;)?/,
    end: /;/
  };

  const VAR = {
    className: &#039;variable&#039;,
    begin: /[$][\w\-:]+/
  };

  const NUMBER = {
    className: &#039;number&#039;,
    begin: /(\b0[0-7_]+)|(\b0x[0-9a-fA-F_]+)|(\b[1-9][0-9_]*(\.[0-9_]+)?)|[0_]\b/,
    relevance: 0
  };

  const STRING = {
    className: &#039;string&#039;,
    variants: [
      {
        begin: /&quot;/,
        end: /&quot;/,
        contains: [
          {
            begin: /&quot;&quot;/,
            relevance: 0
          }
        ]
      },
      {
        begin: /&#039;/,
        end: /&#039;/,
        contains: [
          {
            begin: /&#039;&#039;/,
            relevance: 0
          }
        ]
      }
    ]
  };

  const ANNOTATION = {
    className: &#039;meta&#039;,
    begin: /%[\w\-:]+/
  };

  const COMMENT = {
    className: &#039;comment&#039;,
    begin: /\(:/,
    end: /:\)/,
    relevance: 10,
    contains: [
      {
        className: &#039;doctag&#039;,
        begin: /@\w+/
      }
    ]
  };

  // see https://www.w3.org/TR/xquery/#id-computedConstructors
  // mocha: computed_inbuilt
  // see https://www.regexpal.com/?fam=99749
  const COMPUTED = {
    beginKeywords: &#039;element attribute comment document processing-instruction&#039;,
    end: /\{/,
    excludeEnd: true
  };

  // mocha: direct_method
  const DIRECT = {
    begin: /&lt;([\w._:-]+)(\s+\S*=(&#039;|&quot;).*(&#039;|&quot;))?&gt;/,
    end: /(\/[\w._:-]+&gt;)/,
    subLanguage: &#039;xml&#039;,
    contains: [
      {
        begin: /\{/,
        end: /\}/,
        subLanguage: &#039;xquery&#039;
      },
      &#039;self&#039;
    ]
  };

  const CONTAINS = [
    VAR,
    BUILT_IN,
    STRING,
    NUMBER,
    COMMENT,
    ANNOTATION,
    TITLE,
    COMPUTED,
    DIRECT
  ];

  return {
    name: &#039;XQuery&#039;,
    aliases: [
      &#039;xpath&#039;,
      &#039;xq&#039;
    ],
    case_insensitive: false,
    illegal: /(proc)|(abstract)|(extends)|(until)|(#)/,
    keywords: {
      $pattern: /[a-zA-Z$][a-zA-Z0-9_:-]*/,
      keyword: KEYWORDS,
      type: TYPES,
      literal: LITERALS
    },
    contains: CONTAINS
  };
}

module.exports = xquery;</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ cyclomatic }} <br>
    Length : {{ halstead.length }} <br>
    Difficulty : {{ halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
