<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/highlight.js/lib/languages/ruby.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/highlight.js/lib/languages/ruby.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">30.35</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">357</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">13.06</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">1.55</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">/*
Language: Ruby
Description: Ruby is a dynamic, open source programming language with a focus on simplicity and productivity.
Website: https://www.ruby-lang.org/
Author: Anton Kovalyov &lt;anton@kovalyov.net&gt;
Contributors: Peter Leonov &lt;gojpeg@yandex.ru&gt;, Vasily Polovnyov &lt;vast@whiteants.net&gt;, Loren Segal &lt;lsegal@soen.ca&gt;, Pascal Hurni &lt;phi@ruby-reactive.org&gt;, Cedric Sohrauer &lt;sohrauer@googlemail.com&gt;
Category: common
*/

function ruby(hljs) {
  const regex = hljs.regex;
  const RUBY_METHOD_RE = &#039;([a-zA-Z_]\\w*[!?=]?|[-+~]@|&lt;&lt;|&gt;&gt;|=~|===?|&lt;=&gt;|[&lt;&gt;]=?|\\*\\*|[-/+%^&amp;*~`|]|\\[\\]=?)&#039;;
  const RUBY_KEYWORDS = {
    keyword:
      &#039;and then defined module in return redo if BEGIN retry end for self when &#039; +
      &#039;next until do begin unless END rescue else break undef not super class case &#039; +
      &#039;require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor &#039; +
      &#039;__FILE__&#039;,
    built_in: &#039;proc lambda&#039;,
    literal:
      &#039;true false nil&#039;
  };
  const YARDOCTAG = {
    className: &#039;doctag&#039;,
    begin: &#039;@[A-Za-z]+&#039;
  };
  const IRB_OBJECT = {
    begin: &#039;#&lt;&#039;,
    end: &#039;&gt;&#039;
  };
  const COMMENT_MODES = [
    hljs.COMMENT(
      &#039;#&#039;,
      &#039;$&#039;,
      {
        contains: [ YARDOCTAG ]
      }
    ),
    hljs.COMMENT(
      &#039;^=begin&#039;,
      &#039;^=end&#039;,
      {
        contains: [ YARDOCTAG ],
        relevance: 10
      }
    ),
    hljs.COMMENT(&#039;^__END__&#039;, &#039;\\n$&#039;)
  ];
  const SUBST = {
    className: &#039;subst&#039;,
    begin: /#\{/,
    end: /\}/,
    keywords: RUBY_KEYWORDS
  };
  const STRING = {
    className: &#039;string&#039;,
    contains: [
      hljs.BACKSLASH_ESCAPE,
      SUBST
    ],
    variants: [
      {
        begin: /&#039;/,
        end: /&#039;/
      },
      {
        begin: /&quot;/,
        end: /&quot;/
      },
      {
        begin: /`/,
        end: /`/
      },
      {
        begin: /%[qQwWx]?\(/,
        end: /\)/
      },
      {
        begin: /%[qQwWx]?\[/,
        end: /\]/
      },
      {
        begin: /%[qQwWx]?\{/,
        end: /\}/
      },
      {
        begin: /%[qQwWx]?&lt;/,
        end: /&gt;/
      },
      {
        begin: /%[qQwWx]?\//,
        end: /\//
      },
      {
        begin: /%[qQwWx]?%/,
        end: /%/
      },
      {
        begin: /%[qQwWx]?-/,
        end: /-/
      },
      {
        begin: /%[qQwWx]?\|/,
        end: /\|/
      },
      // in the following expressions, \B in the beginning suppresses recognition of ?-sequences
      // where ? is the last character of a preceding identifier, as in: `func?4`
      {
        begin: /\B\?(\\\d{1,3})/
      },
      {
        begin: /\B\?(\\x[A-Fa-f0-9]{1,2})/
      },
      {
        begin: /\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/
      },
      {
        begin: /\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/
      },
      {
        begin: /\B\?\\(c|C-)[\x20-\x7e]/
      },
      {
        begin: /\B\?\\?\S/
      },
      // heredocs
      {
        // this guard makes sure that we have an entire heredoc and not a false
        // positive (auto-detect, etc.)
        begin: regex.concat(
          /&lt;&lt;[-~]?&#039;?/,
          regex.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)
        ),
        contains: [
          hljs.END_SAME_AS_BEGIN({
            begin: /(\w+)/,
            end: /(\w+)/,
            contains: [
              hljs.BACKSLASH_ESCAPE,
              SUBST
            ]
          })
        ]
      }
    ]
  };

  // Ruby syntax is underdocumented, but this grammar seems to be accurate
  // as of version 2.7.2 (confirmed with (irb and `Ripper.sexp(...)`)
  // https://docs.ruby-lang.org/en/2.7.0/doc/syntax/literals_rdoc.html#label-Numbers
  const decimal = &#039;[1-9](_?[0-9])*|0&#039;;
  const digits = &#039;[0-9](_?[0-9])*&#039;;
  const NUMBER = {
    className: &#039;number&#039;,
    relevance: 0,
    variants: [
      // decimal integer/float, optionally exponential or rational, optionally imaginary
      {
        begin: `\\b(${decimal})(\\.(${digits}))?([eE][+-]?(${digits})|r)?i?\\b`
      },

      // explicit decimal/binary/octal/hexadecimal integer,
      // optionally rational and/or imaginary
      {
        begin: &quot;\\b0[dD][0-9](_?[0-9])*r?i?\\b&quot;
      },
      {
        begin: &quot;\\b0[bB][0-1](_?[0-1])*r?i?\\b&quot;
      },
      {
        begin: &quot;\\b0[oO][0-7](_?[0-7])*r?i?\\b&quot;
      },
      {
        begin: &quot;\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b&quot;
      },

      // 0-prefixed implicit octal integer, optionally rational and/or imaginary
      {
        begin: &quot;\\b0(_?[0-7])+r?i?\\b&quot;
      }
    ]
  };

  const PARAMS = {
    className: &#039;params&#039;,
    begin: &#039;\\(&#039;,
    end: &#039;\\)&#039;,
    endsParent: true,
    keywords: RUBY_KEYWORDS
  };

  const RUBY_DEFAULT_CONTAINS = [
    STRING,
    {
      className: &#039;class&#039;,
      beginKeywords: &#039;class module&#039;,
      end: &#039;$|;&#039;,
      illegal: /=/,
      contains: [
        hljs.inherit(hljs.TITLE_MODE, {
          begin: &#039;[A-Za-z_]\\w*(::\\w+)*(\\?|!)?&#039;
        }),
        {
          begin: &#039;&lt;\\s*&#039;,
          contains: [
            {
              begin: &#039;(&#039; + hljs.IDENT_RE + &#039;::)?&#039; + hljs.IDENT_RE,
              // we already get points for &lt;, we don&#039;t need poitns
              // for the name also
              relevance: 0
            }
          ]
        }
      ].concat(COMMENT_MODES)
    },
    {
      className: &#039;function&#039;,
      // def method_name(
      // def method_name;
      // def method_name (end of line)
      begin: regex.concat(/def\s+/, regex.lookahead(RUBY_METHOD_RE + &quot;\\s*(\\(|;|$)&quot;)),
      relevance: 0, // relevance comes from kewords
      keywords: &quot;def&quot;,
      end: &#039;$|;&#039;,
      contains: [
        hljs.inherit(hljs.TITLE_MODE, {
          begin: RUBY_METHOD_RE
        }),
        PARAMS
      ].concat(COMMENT_MODES)
    },
    {
      // swallow namespace qualifiers before symbols
      begin: hljs.IDENT_RE + &#039;::&#039;
    },
    {
      className: &#039;symbol&#039;,
      begin: hljs.UNDERSCORE_IDENT_RE + &#039;(!|\\?)?:&#039;,
      relevance: 0
    },
    {
      className: &#039;symbol&#039;,
      begin: &#039;:(?!\\s)&#039;,
      contains: [
        STRING,
        {
          begin: RUBY_METHOD_RE
        }
      ],
      relevance: 0
    },
    NUMBER,
    {
      // negative-look forward attempts to prevent false matches like:
      // @ident@ or $ident$ that might indicate this is not ruby at all
      className: &quot;variable&quot;,
      begin: &#039;(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])&#039; + `(?![A-Za-z])(?![@$?&#039;])`
    },
    {
      className: &#039;params&#039;,
      begin: /\|/,
      end: /\|/,
      relevance: 0, // this could be a lot of things (in other languages) other than params
      keywords: RUBY_KEYWORDS
    },
    { // regexp container
      begin: &#039;(&#039; + hljs.RE_STARTERS_RE + &#039;|unless)\\s*&#039;,
      keywords: &#039;unless&#039;,
      contains: [
        {
          className: &#039;regexp&#039;,
          contains: [
            hljs.BACKSLASH_ESCAPE,
            SUBST
          ],
          illegal: /\n/,
          variants: [
            {
              begin: &#039;/&#039;,
              end: &#039;/[a-z]*&#039;
            },
            {
              begin: /%r\{/,
              end: /\}[a-z]*/
            },
            {
              begin: &#039;%r\\(&#039;,
              end: &#039;\\)[a-z]*&#039;
            },
            {
              begin: &#039;%r!&#039;,
              end: &#039;![a-z]*&#039;
            },
            {
              begin: &#039;%r\\[&#039;,
              end: &#039;\\][a-z]*&#039;
            }
          ]
        }
      ].concat(IRB_OBJECT, COMMENT_MODES),
      relevance: 0
    }
  ].concat(IRB_OBJECT, COMMENT_MODES);

  SUBST.contains = RUBY_DEFAULT_CONTAINS;
  PARAMS.contains = RUBY_DEFAULT_CONTAINS;

  // &gt;&gt;
  // ?&gt;
  const SIMPLE_PROMPT = &quot;[&gt;?]&gt;&quot;;
  // irb(main):001:0&gt;
  const DEFAULT_PROMPT = &quot;[\\w#]+\\(\\w+\\):\\d+:\\d+&gt;&quot;;
  const RVM_PROMPT = &quot;(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^&gt;]+&gt;&quot;;

  const IRB_DEFAULT = [
    {
      begin: /^\s*=&gt;/,
      starts: {
        end: &#039;$&#039;,
        contains: RUBY_DEFAULT_CONTAINS
      }
    },
    {
      className: &#039;meta&#039;,
      begin: &#039;^(&#039; + SIMPLE_PROMPT + &quot;|&quot; + DEFAULT_PROMPT + &#039;|&#039; + RVM_PROMPT + &#039;)(?=[ ])&#039;,
      starts: {
        end: &#039;$&#039;,
        contains: RUBY_DEFAULT_CONTAINS
      }
    }
  ];

  COMMENT_MODES.unshift(IRB_OBJECT);

  return {
    name: &#039;Ruby&#039;,
    aliases: [
      &#039;rb&#039;,
      &#039;gemspec&#039;,
      &#039;podspec&#039;,
      &#039;thor&#039;,
      &#039;irb&#039;
    ],
    keywords: RUBY_KEYWORDS,
    illegal: /\/\*/,
    contains: [
      hljs.SHEBANG({
        binary: &quot;ruby&quot;
      })
    ]
      .concat(IRB_DEFAULT)
      .concat(COMMENT_MODES)
      .concat(RUBY_DEFAULT_CONTAINS)
  };
}

module.exports = ruby;</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ cyclomatic }} <br>
    Length : {{ halstead.length }} <br>
    Difficulty : {{ halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
